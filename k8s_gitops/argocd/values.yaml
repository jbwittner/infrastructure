global:
  domain: argocd.wittnerlab.com
server:
  ingress:
    enabled: true
    annotations:
      external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
      external-dns.alpha.kubernetes.io/hostname: argocd.wittnerlab.com
      external-dns.alpha.kubernetes.io/target: f9de1d0c-0f6f-4389-b8cb-029bee73d70d.cfargotunnel.com
#       nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
#       nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
#       nginx.ingress.kubernetes.io/service-upstream: "true"
#       nginx.ingress.kubernetes.io/proxy-ssl-verify: "false" # Disable SSL verification for self-signed certs
#       nginx.ingress.kubernetes.io/ssl-passthrough: "true" # Necessary for ArgoCD to work behind nginx with TLS
#     tls: true # Enable TLS termination
#     pathType: Prefix
#     path: /
# configs:
#   secret:
#       extra:
#           dex.authentik.clientId: "xxx"
#           dex.authentik.clientSecret: "xxx"
#   cm:
#     statusbadge.enabled: true
#     admin.enabled: true
#     url: https://argocd.wittnerlab.com
#     dex.config: |
#       connectors:
#       - config:
#           issuer: https://authentik.wittnerlab.com/application/o/argocd/
#           clientID: $authentik-argocd-credentials:dex.authentik.clientId
#           clientSecret: $authentik-argocd-credentials:dex.authentik.clientSecret
#           insecureEnableGroups: true
#           scopes:
#           - openid
#           - profile
#           - email
#         name: authentik
#         type: oidc
#         id: authentik
#   rbac:
#     policy.csv: |
#       g, argocd_admins, role:admin
#       g, argocd_users, role:readonly